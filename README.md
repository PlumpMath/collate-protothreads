Collate.c (and the modified Makefile) are an example of how to build an FBP (classic) Collate component using Adam Dunkels' protothreads (one stack, no processes).

Simply download Dunkels' protothreads 

http://dunkels.com/adam/pt/download.html

put this file in the same directory and overwrite the Makefile with the one supplied here.

Make, then run ./collate.
